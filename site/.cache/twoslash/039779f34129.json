{"code":"import { parseUnits } from 'viem'\nimport { BundlerClientConfig } from 'viem/account-abstraction'\nimport { paymasterAddress } from './config'\nimport { signPermit } from './utils'\n\nexport const paymaster: BundlerClientConfig['paymaster'] = {\n  async getPaymasterData(parameters) {\n    const permitAmount = parseUnits('10', 6) // 10 USDC\n\n    const permitSignature = await signPermit({\n      permitAmount,\n      spenderAddress: paymasterAddress,\n      tokenAddress: usdcAddress,\n    })\n\n    const paymasterData = encodePacked(\n      ['uint8', 'address', 'uint256', 'bytes'],\n      [0, usdcAddress, permitAmount, permitSignature],\n    )\n\n    return {\n      paymaster: paymasterAddress,\n      paymasterData,\n      paymasterVerificationGasLimit: 200_000n,\n      paymasterPostOpGasLimit: 15_000n,\n      isFinal: true,\n    }\n  },\n}","nodes":[{"type":"hover","text":"(alias) function parseUnits(value: string, decimals: number): bigint\nimport parseUnits","docs":"Multiplies a string representation of a number by a given exponent of base 10 (10exponent).\n\n- Docs: https://viem.sh/docs/utilities/parseUnits","tags":[["example","import { parseUnits } from 'viem'\n\nparseUnits('420', 9)\n// 420000000000n"]],"start":9,"length":10,"target":"parseUnits","line":0,"character":9},{"type":"hover","text":"(alias) type BundlerClientConfig<transport extends Transport = Transport, chain extends Chain | undefined = Chain | undefined, account extends SmartAccount | undefined = SmartAccount | undefined, client extends Client | undefined = Client | undefined, rpcSchema extends RpcSchema | undefined = undefined> = {\n    account?: account | `0x${string}` | Account | undefined;\n    cacheTime?: number | undefined | undefined;\n    chain?: chain | Chain | undefined;\n    key?: string | undefined | undefined;\n    name?: string | undefined | undefined;\n    pollingInterval?: number | undefined | undefined;\n    transport: transport;\n    rpcSchema?: rpcSchema | undefined;\n} & {\n    client?: client | Client | undefined;\n    dataSuffix?: Hex | undefined;\n    paymaster?: true | {\n        getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n        getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n    } | undefined;\n    paymasterContext?: unknown;\n    userOperation?: {\n        estimateFeesPerGas?: ((parameters: {\n            account: account | SmartAccount;\n            bundlerClient: Client;\n            userOperation: UserOperationRequest;\n        }) => Promise<EstimateFeesPerGasReturnType<\"eip1559\">>) | undefined;\n    } | undefined;\n}\nimport BundlerClientConfig","start":43,"length":19,"target":"BundlerClientConfig","line":1,"character":9},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":106,"length":16,"target":"paymasterAddress","line":2,"character":9},{"type":"hover","text":"import signPermit","start":150,"length":10,"target":"signPermit","line":3,"character":9},{"type":"hover","text":"const paymaster: true | {\n    getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n    getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n} | undefined","start":192,"length":9,"target":"paymaster","line":5,"character":13},{"type":"hover","text":"(alias) type BundlerClientConfig<transport extends Transport = Transport, chain extends Chain | undefined = Chain | undefined, account extends SmartAccount | undefined = SmartAccount | undefined, client extends Client | undefined = Client | undefined, rpcSchema extends RpcSchema | undefined = undefined> = {\n    account?: account | `0x${string}` | Account | undefined;\n    cacheTime?: number | undefined | undefined;\n    chain?: chain | Chain | undefined;\n    key?: string | undefined | undefined;\n    name?: string | undefined | undefined;\n    pollingInterval?: number | undefined | undefined;\n    transport: transport;\n    rpcSchema?: rpcSchema | undefined;\n} & {\n    client?: client | Client | undefined;\n    dataSuffix?: Hex | undefined;\n    paymaster?: true | {\n        getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n        getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n    } | undefined;\n    paymasterContext?: unknown;\n    userOperation?: {\n        estimateFeesPerGas?: ((parameters: {\n            account: account | SmartAccount;\n            bundlerClient: Client;\n            userOperation: UserOperationRequest;\n        }) => Promise<EstimateFeesPerGasReturnType<\"eip1559\">>) | undefined;\n    } | undefined;\n}\nimport BundlerClientConfig","start":203,"length":19,"target":"BundlerClientConfig","line":5,"character":24},{"type":"hover","text":"(property) getPaymasterData?: ((parameters: GetPaymasterDataParameters) => Promise<GetPaymasterDataReturnType>) | undefined","docs":"Retrieves paymaster-related User Operation properties to be used for sending the User Operation.","start":248,"length":16,"target":"getPaymasterData","line":6,"character":8},{"type":"hover","text":"(parameter) parameters: GetPaymasterDataParameters","start":265,"length":10,"target":"parameters","line":6,"character":25},{"type":"hover","text":"const permitAmount: bigint","start":289,"length":12,"target":"permitAmount","line":7,"character":10},{"type":"hover","text":"(alias) parseUnits(value: string, decimals: number): bigint\nimport parseUnits","docs":"Multiplies a string representation of a number by a given exponent of base 10 (10exponent).\n\n- Docs: https://viem.sh/docs/utilities/parseUnits","tags":[["example","import { parseUnits } from 'viem'\n\nparseUnits('420', 9)\n// 420000000000n"]],"start":304,"length":10,"target":"parseUnits","line":7,"character":25},{"type":"hover","text":"const permitSignature: any","start":346,"length":15,"target":"permitSignature","line":9,"character":10},{"type":"hover","text":"import signPermit","start":370,"length":10,"target":"signPermit","line":9,"character":34},{"type":"hover","text":"(property) permitAmount: bigint","start":389,"length":12,"target":"permitAmount","line":10,"character":6},{"type":"hover","text":"(property) spenderAddress: string","start":409,"length":14,"target":"spenderAddress","line":11,"character":6},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":425,"length":16,"target":"paymasterAddress","line":11,"character":22},{"type":"hover","text":"(property) tokenAddress: any","start":449,"length":12,"target":"tokenAddress","line":12,"character":6},{"type":"hover","text":"any","start":463,"length":11,"target":"usdcAddress","line":12,"character":20},{"type":"hover","text":"const paymasterData: any","start":494,"length":13,"target":"paymasterData","line":15,"character":10},{"type":"hover","text":"any","start":510,"length":12,"target":"encodePacked","line":15,"character":26},{"type":"hover","text":"any","start":582,"length":11,"target":"usdcAddress","line":17,"character":10},{"type":"hover","text":"const permitAmount: bigint","start":595,"length":12,"target":"permitAmount","line":17,"character":23},{"type":"hover","text":"const permitSignature: any","start":609,"length":15,"target":"permitSignature","line":17,"character":37},{"type":"hover","text":"(property) paymaster: `0x${string}`","start":653,"length":9,"target":"paymaster","line":21,"character":6},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":664,"length":16,"target":"paymasterAddress","line":21,"character":17},{"type":"hover","text":"(property) paymasterData: `0x${string}`","start":688,"length":13,"target":"paymasterData","line":22,"character":6},{"type":"hover","text":"(property) paymasterVerificationGasLimit?: bigint | undefined","start":709,"length":29,"target":"paymasterVerificationGasLimit","line":23,"character":6},{"type":"hover","text":"(property) paymasterPostOpGasLimit?: bigint | undefined","start":756,"length":23,"target":"paymasterPostOpGasLimit","line":24,"character":6},{"type":"hover","text":"(property) isFinal: boolean","start":796,"length":7,"target":"isFinal","line":25,"character":6}],"meta":{"extension":"ts","compilerOptions":{"strict":true,"module":99,"target":99,"allowJs":true,"skipDefaultLibCheck":true,"skipLibCheck":true,"moduleDetection":3,"baseUrl":"/Users/jakemoxey/git/viem/site/","moduleResolution":100,"preserveSymlinks":false},"handbookOptions":{"errors":[],"noErrors":true,"noErrorsCutted":false,"noErrorValidation":false,"noStaticSemanticInfo":false,"showEmit":false,"keepNotations":false},"removals":[[0,747]],"flagNotations":[{"type":"handbookOptions","name":"noErrors","value":true,"start":734,"end":747}],"virtualFiles":[{"offset":0,"filename":"config.ts","filepath":"/Users/jakemoxey/git/viem/site/config.ts","content":"// @filename: config.ts\nimport { createClient, http, publicActions, walletActions } from 'viem'\nimport { arbitrumSepolia } from 'viem/chains'\nimport { privateKeyToAccount } from 'viem/accounts'\nimport { toSimple7702SmartAccount } from 'viem/account-abstraction'\n\nexport const owner = privateKeyToAccount('0x...')\n\nexport const client = createClient({ \n  account: owner,\n  chain: arbitrumSepolia, \n  transport: http() \n})\n  .extend(publicActions)\n  .extend(walletActions)\n\nexport const account = await toSimple7702SmartAccount({ client, owner })\n\nexport const paymasterAddress = '0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966'\nexport const usdcAddress = '0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d' \n","extension":"ts","supportLsp":true},{"offset":696,"filename":"example.ts","filepath":"/Users/jakemoxey/git/viem/site/example.ts","content":"// @filename: example.ts\n// ---cut---\n// @noErrors\nimport { parseUnits } from 'viem'\nimport { BundlerClientConfig } from 'viem/account-abstraction'\nimport { paymasterAddress } from './config'\nimport { signPermit } from './utils'\n\nexport const paymaster: BundlerClientConfig['paymaster'] = {\n  async getPaymasterData(parameters) {\n    const permitAmount = parseUnits('10', 6) // 10 USDC\n\n    const permitSignature = await signPermit({\n      permitAmount,\n      spenderAddress: paymasterAddress,\n      tokenAddress: usdcAddress,\n    })\n\n    const paymasterData = encodePacked(\n      ['uint8', 'address', 'uint256', 'bytes'],\n      [0, usdcAddress, permitAmount, permitSignature],\n    )\n\n    return {\n      paymaster: paymasterAddress,\n      paymasterData,\n      paymasterVerificationGasLimit: 200_000n,\n      paymasterPostOpGasLimit: 15_000n,\n      isFinal: true,\n    }\n  },\n}","extension":"ts","supportLsp":true}],"positionQueries":[],"positionCompletions":[],"positionHighlights":[]},"queries":[],"completions":[],"errors":[],"highlights":[],"hovers":[{"type":"hover","text":"(alias) function parseUnits(value: string, decimals: number): bigint\nimport parseUnits","docs":"Multiplies a string representation of a number by a given exponent of base 10 (10exponent).\n\n- Docs: https://viem.sh/docs/utilities/parseUnits","tags":[["example","import { parseUnits } from 'viem'\n\nparseUnits('420', 9)\n// 420000000000n"]],"start":9,"length":10,"target":"parseUnits","line":0,"character":9},{"type":"hover","text":"(alias) type BundlerClientConfig<transport extends Transport = Transport, chain extends Chain | undefined = Chain | undefined, account extends SmartAccount | undefined = SmartAccount | undefined, client extends Client | undefined = Client | undefined, rpcSchema extends RpcSchema | undefined = undefined> = {\n    account?: account | `0x${string}` | Account | undefined;\n    cacheTime?: number | undefined | undefined;\n    chain?: chain | Chain | undefined;\n    key?: string | undefined | undefined;\n    name?: string | undefined | undefined;\n    pollingInterval?: number | undefined | undefined;\n    transport: transport;\n    rpcSchema?: rpcSchema | undefined;\n} & {\n    client?: client | Client | undefined;\n    dataSuffix?: Hex | undefined;\n    paymaster?: true | {\n        getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n        getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n    } | undefined;\n    paymasterContext?: unknown;\n    userOperation?: {\n        estimateFeesPerGas?: ((parameters: {\n            account: account | SmartAccount;\n            bundlerClient: Client;\n            userOperation: UserOperationRequest;\n        }) => Promise<EstimateFeesPerGasReturnType<\"eip1559\">>) | undefined;\n    } | undefined;\n}\nimport BundlerClientConfig","start":43,"length":19,"target":"BundlerClientConfig","line":1,"character":9},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":106,"length":16,"target":"paymasterAddress","line":2,"character":9},{"type":"hover","text":"import signPermit","start":150,"length":10,"target":"signPermit","line":3,"character":9},{"type":"hover","text":"const paymaster: true | {\n    getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n    getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n} | undefined","start":192,"length":9,"target":"paymaster","line":5,"character":13},{"type":"hover","text":"(alias) type BundlerClientConfig<transport extends Transport = Transport, chain extends Chain | undefined = Chain | undefined, account extends SmartAccount | undefined = SmartAccount | undefined, client extends Client | undefined = Client | undefined, rpcSchema extends RpcSchema | undefined = undefined> = {\n    account?: account | `0x${string}` | Account | undefined;\n    cacheTime?: number | undefined | undefined;\n    chain?: chain | Chain | undefined;\n    key?: string | undefined | undefined;\n    name?: string | undefined | undefined;\n    pollingInterval?: number | undefined | undefined;\n    transport: transport;\n    rpcSchema?: rpcSchema | undefined;\n} & {\n    client?: client | Client | undefined;\n    dataSuffix?: Hex | undefined;\n    paymaster?: true | {\n        getPaymasterData?: PaymasterActions[\"getPaymasterData\"] | undefined;\n        getPaymasterStubData?: PaymasterActions[\"getPaymasterStubData\"] | undefined;\n    } | undefined;\n    paymasterContext?: unknown;\n    userOperation?: {\n        estimateFeesPerGas?: ((parameters: {\n            account: account | SmartAccount;\n            bundlerClient: Client;\n            userOperation: UserOperationRequest;\n        }) => Promise<EstimateFeesPerGasReturnType<\"eip1559\">>) | undefined;\n    } | undefined;\n}\nimport BundlerClientConfig","start":203,"length":19,"target":"BundlerClientConfig","line":5,"character":24},{"type":"hover","text":"(property) getPaymasterData?: ((parameters: GetPaymasterDataParameters) => Promise<GetPaymasterDataReturnType>) | undefined","docs":"Retrieves paymaster-related User Operation properties to be used for sending the User Operation.","start":248,"length":16,"target":"getPaymasterData","line":6,"character":8},{"type":"hover","text":"(parameter) parameters: GetPaymasterDataParameters","start":265,"length":10,"target":"parameters","line":6,"character":25},{"type":"hover","text":"const permitAmount: bigint","start":289,"length":12,"target":"permitAmount","line":7,"character":10},{"type":"hover","text":"(alias) parseUnits(value: string, decimals: number): bigint\nimport parseUnits","docs":"Multiplies a string representation of a number by a given exponent of base 10 (10exponent).\n\n- Docs: https://viem.sh/docs/utilities/parseUnits","tags":[["example","import { parseUnits } from 'viem'\n\nparseUnits('420', 9)\n// 420000000000n"]],"start":304,"length":10,"target":"parseUnits","line":7,"character":25},{"type":"hover","text":"const permitSignature: any","start":346,"length":15,"target":"permitSignature","line":9,"character":10},{"type":"hover","text":"import signPermit","start":370,"length":10,"target":"signPermit","line":9,"character":34},{"type":"hover","text":"(property) permitAmount: bigint","start":389,"length":12,"target":"permitAmount","line":10,"character":6},{"type":"hover","text":"(property) spenderAddress: string","start":409,"length":14,"target":"spenderAddress","line":11,"character":6},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":425,"length":16,"target":"paymasterAddress","line":11,"character":22},{"type":"hover","text":"(property) tokenAddress: any","start":449,"length":12,"target":"tokenAddress","line":12,"character":6},{"type":"hover","text":"any","start":463,"length":11,"target":"usdcAddress","line":12,"character":20},{"type":"hover","text":"const paymasterData: any","start":494,"length":13,"target":"paymasterData","line":15,"character":10},{"type":"hover","text":"any","start":510,"length":12,"target":"encodePacked","line":15,"character":26},{"type":"hover","text":"any","start":582,"length":11,"target":"usdcAddress","line":17,"character":10},{"type":"hover","text":"const permitAmount: bigint","start":595,"length":12,"target":"permitAmount","line":17,"character":23},{"type":"hover","text":"const permitSignature: any","start":609,"length":15,"target":"permitSignature","line":17,"character":37},{"type":"hover","text":"(property) paymaster: `0x${string}`","start":653,"length":9,"target":"paymaster","line":21,"character":6},{"type":"hover","text":"(alias) const paymasterAddress: \"0x3BA9A96eE3eFf3A69E2B18886AcF52027EFF8966\"\nimport paymasterAddress","start":664,"length":16,"target":"paymasterAddress","line":21,"character":17},{"type":"hover","text":"(property) paymasterData: `0x${string}`","start":688,"length":13,"target":"paymasterData","line":22,"character":6},{"type":"hover","text":"(property) paymasterVerificationGasLimit?: bigint | undefined","start":709,"length":29,"target":"paymasterVerificationGasLimit","line":23,"character":6},{"type":"hover","text":"(property) paymasterPostOpGasLimit?: bigint | undefined","start":756,"length":23,"target":"paymasterPostOpGasLimit","line":24,"character":6},{"type":"hover","text":"(property) isFinal: boolean","start":796,"length":7,"target":"isFinal","line":25,"character":6}],"tags":[]}