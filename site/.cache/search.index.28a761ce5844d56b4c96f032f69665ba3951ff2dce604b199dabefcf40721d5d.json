"{\"value\":{\"mdx\":\"---\\ndescription: Computes source hash of a deposit transaction.\\n---\\n\\n# getSourceHash\\n\\nComputes the [source hash](https://github.com/ethereum-optimism/optimism/blob/develop/specs/deposits.md#source-hash-computation) of a deposit transaction.\\n\\n## Import\\n```ts\\nimport { getSourceHash } from 'viem'\\n```\\n\\n## Usage\\n\\n```ts\\nimport { getSourceHash } from 'viem'\\n\\n// User Deposit\\nconst sourceHash = getSourceHash({\\n  domain: 'userDeposit',\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7',\\n  l1LogIndex: 196,\\n})\\n\\n// L1 attributes deposited\\nconst sourceHash = getSourceHash({\\n  domain: 'l1InfoDeposit',\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7',\\n  sequenceNumber: 1,\\n})\\n```\\n\\n## Returns\\n\\n`Hex`\\n\\nThe source hash of the deposit transaction.\\n\\n## Parameters\\n\\n### domain\\n\\n- **Type:** `\\\"userDeposit\\\" | \\\"l1InfoDeposit\\\"`\\n\\nThe domain of the deposit transaction.\\n\\n```ts\\nconst sourceHash = getSourceHash({\\n  domain: 'userDeposit', // [!code focus]\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7',\\n  l1LogIndex: 196,\\n})\\n```\\n\\n### l1BlockHash\\n\\n- **Type:** `Hex`\\n\\nThe hash of the L1 block the deposit transaction was included in.\\n\\n```ts\\nconst sourceHash = getSourceHash({\\n  domain: 'userDeposit',\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7', // [!code focus]\\n  l1LogIndex: 196,\\n})\\n```\\n\\n### l1LogIndex\\n\\n- **Type:** `number`\\n\\nThe index of the L1 log. **Only required for `\\\"userDeposit\\\"` domain.**\\n\\n```ts\\nconst sourceHash = getSourceHash({\\n  domain: 'userDeposit',\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7',\\n  l1LogIndex: 196, // [!code focus]\\n})\\n```\\n\\n### sequenceNumber\\n\\n- **Type:** `number`\\n\\nThe sequence number (difference between L2 block number and first L2 epoch block number). **Only required for `\\\"l1InfoDeposit\\\"` domain.**\\n\\n```ts\\nconst sourceHash = getSourceHash({\\n  domain: 'l1InfoDeposit',\\n  l1BlockHash:\\n    '0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7',\\n  sequenceNumber: 1, // [!code focus]\\n})\\n```\",\"document\":[{\"href\":\"/op-stack/utilities/getSourceHash#getsourcehash\",\"html\":\"</header>\\n<p>Computes the <a href=\\\"https://github.com/ethereum-optimism/optimism/blob/develop/specs/deposits.md#source-hash-computation\\\">source hash</a> of a deposit transaction.</p>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#getsourcehash\",\"isPage\":true,\"text\":\"\\nComputes the source hash of a deposit transaction.\\n\",\"title\":\"getSourceHash\",\"titles\":[]},{\"href\":\"/op-stack/utilities/getSourceHash#import\",\"html\":\"\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { getSourceHash } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem&#x27;</span></span></code></pre>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#import\",\"isPage\":false,\"text\":\"\\nimport { getSourceHash } from &#x27;viem&#x27;\\n\",\"title\":\"Import\",\"titles\":[\"getSourceHash\"]},{\"href\":\"/op-stack/utilities/getSourceHash#usage\",\"html\":\"\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { getSourceHash } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem&#x27;</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// User Deposit</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;userDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1LogIndex: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">196</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// L1 attributes deposited</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;l1InfoDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  sequenceNumber: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">1</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#usage\",\"isPage\":false,\"text\":\"\\nimport { getSourceHash } from &#x27;viem&#x27;\\n \\n// User Deposit\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;userDeposit&#x27;,\\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;,\\n  l1LogIndex: 196,\\n})\\n \\n// L1 attributes deposited\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;l1InfoDeposit&#x27;,\\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;,\\n  sequenceNumber: 1,\\n})\\n\",\"title\":\"Usage\",\"titles\":[\"getSourceHash\"]},{\"href\":\"/op-stack/utilities/getSourceHash#returns\",\"html\":\"\\n<p><code>Hex</code></p>\\n<p>The source hash of the deposit transaction.</p>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#returns\",\"isPage\":false,\"text\":\"\\nHex\\nThe source hash of the deposit transaction.\\n\",\"title\":\"Returns\",\"titles\":[\"getSourceHash\"]},{\"href\":\"/op-stack/utilities/getSourceHash#parameters\",\"html\":\"\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#parameters\",\"isPage\":false,\"text\":\"\\n\",\"title\":\"Parameters\",\"titles\":[\"getSourceHash\"]},{\"href\":\"/op-stack/utilities/getSourceHash#domain\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>&quot;userDeposit&quot; | &quot;l1InfoDeposit&quot;</code></li>\\n</ul>\\n<p>The domain of the deposit transaction.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-focused\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;userDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1LogIndex: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">196</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#domain\",\"isPage\":false,\"text\":\"\\n\\nType: &quot;userDeposit&quot; | &quot;l1InfoDeposit&quot;\\n\\nThe domain of the deposit transaction.\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;userDeposit&#x27;, \\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;,\\n  l1LogIndex: 196,\\n})\\n\",\"title\":\"domain\",\"titles\":[\"getSourceHash\",\"Parameters\"]},{\"href\":\"/op-stack/utilities/getSourceHash#l1blockhash\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>Hex</code></li>\\n</ul>\\n<p>The hash of the L1 block the deposit transaction was included in.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-focused\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;userDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1LogIndex: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">196</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#l1blockhash\",\"isPage\":false,\"text\":\"\\n\\nType: Hex\\n\\nThe hash of the L1 block the deposit transaction was included in.\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;userDeposit&#x27;,\\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;, \\n  l1LogIndex: 196,\\n})\\n\",\"title\":\"l1BlockHash\",\"titles\":[\"getSourceHash\",\"Parameters\"]},{\"href\":\"/op-stack/utilities/getSourceHash#l1logindex\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>number</code></li>\\n</ul>\\n<p>The index of the L1 log. <strong>Only required for <code>&quot;userDeposit&quot;</code> domain.</strong></p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-focused\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;userDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1LogIndex: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">196</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#l1logindex\",\"isPage\":false,\"text\":\"\\n\\nType: number\\n\\nThe index of the L1 log. Only required for &quot;userDeposit&quot; domain.\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;userDeposit&#x27;,\\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;,\\n  l1LogIndex: 196, \\n})\\n\",\"title\":\"l1LogIndex\",\"titles\":[\"getSourceHash\",\"Parameters\"]},{\"href\":\"/op-stack/utilities/getSourceHash#sequencenumber\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>number</code></li>\\n</ul>\\n<p>The sequence number (difference between L2 block number and first L2 epoch block number). <strong>Only required for <code>&quot;l1InfoDeposit&quot;</code> domain.</strong></p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-focused\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> sourceHash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> getSourceHash</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  domain: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;l1InfoDeposit&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  l1BlockHash:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  sequenceNumber: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">1</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\",\"id\":\"pages/op-stack/utilities/getSourceHash.md#sequencenumber\",\"isPage\":false,\"text\":\"\\n\\nType: number\\n\\nThe sequence number (difference between L2 block number and first L2 epoch block number). Only required for &quot;l1InfoDeposit&quot; domain.\\nconst sourceHash = getSourceHash({\\n  domain: &#x27;l1InfoDeposit&#x27;,\\n  l1BlockHash:\\n    &#x27;0x9ba3933dc6ce43c145349770a39c30f9b647f17668f004bd2e05c80a2e7262f7&#x27;,\\n  sequenceNumber: 1, \\n})\",\"title\":\"sequenceNumber\",\"titles\":[\"getSourceHash\",\"Parameters\"]}]}}"
