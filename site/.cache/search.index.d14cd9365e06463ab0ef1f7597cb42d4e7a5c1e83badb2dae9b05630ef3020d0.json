"{\"value\":{\"mdx\":\"# `withFeePayer`\\n\\nCreates a transport that routes transactions to a fee payer service when a `feePayer` is requested on an action. \\n\\n- [View Guide](https://docs.tempo.xyz/guide/payments/sponsor-user-fees)\\n- [View Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction)\\n\\n## Usage\\n\\n:::code-group\\n\\n```ts twoslash [example.ts]\\nimport { createWalletClient, http } from 'viem'\\nimport { privateKeyToAccount } from 'viem/accounts'\\nimport { tempoTestnet } from 'viem/chains'\\nimport { withFeePayer } from 'viem/tempo'\\n \\nconst client = createWalletClient({\\n  account: privateKeyToAccount('0x...'),\\n  chain: tempoTestnet,\\n  transport: withFeePayer(\\n    http(),                               // ← Default Transport\\n    http('https://sponsor.example.com'),  // ← Fee Payer Transport // [!code hl]\\n  ), \\n})\\n \\n// Regular transaction\\nconst receipt1 = await client.sendTransactionSync({\\n  to: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb',\\n})\\n \\n// Sponsored transaction // [!code hl]\\nconst receipt2 = await client.sendTransactionSync({ // [!code hl]\\n  // [!code hl]\\n  feePayer: true, // [!code hl]\\n  to: '0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb', // [!code hl]\\n}) // [!code hl]\\n```\\n\\n```ts twoslash [viem.config.ts] filename=\\\"viem.config.ts\\\"\\n// [!include ~/snippets/tempo/viem.config.ts:setup]\\n```\\n\\n:::\\n\\n### Example Fee Payer Service\\n\\nBelow is an end-to-end example of a client/server fee payer setup. \\n\\nSee `server.ts` for the server-side implementation. It uses [`Handler.feePayer` provided by `tempo.ts/server`](https://docs.tempo.xyz/sdk/typescript/server/handler.feePayer) to handle fee payer requests.\\n\\n:::code-group\\n\\n```ts twoslash [client.ts]\\nimport { createWalletClient, http } from 'viem'\\nimport { privateKeyToAccount } from 'viem/accounts'\\nimport { tempoTestnet } from 'viem/chains'\\nimport { withFeePayer } from 'viem/tempo'\\n \\nconst client = createWalletClient({\\n  account: privateKeyToAccount('0x...'),\\n  chain: tempoTestnet,\\n  transport: withFeePayer(\\n    http(), \\n    http('http://localhost:3000'), \\n  ), \\n})\\n \\nconst hash = await client.sendTransactionSync({\\n  feePayer: true,\\n  to: '0x0000000000000000000000000000000000000000',\\n})\\n```\\n\\n```ts twoslash [server.ts]\\n// @noErrors\\nimport { createServer } from 'node:http'\\nimport { createClient, http } from 'viem'\\nimport { privateKeyToAccount } from 'viem/accounts'\\nimport { tempoTestnet } from 'viem/chains'\\nimport { Handler } from 'tempo.ts/server'\\n\\nconst client = createClient({\\n  chain: tempoTestnet.extend({ \\n    // Note: the fee payer can specify their own fee token.\\n    feeToken: '0x20c0000000000000000000000000000000000001'\\n  }),\\n  transport: http(),\\n})\\n\\nconst handler = Handler.feePayer({ // [!code hl]\\n  account: privateKeyToAccount('0x...'), // [!code hl]\\n  client, // [!code hl]\\n}) // [!code hl]\\n\\nconst server = createServer(handler.listener)\\nserver.listen(3000)\\n```\\n\\n:::\\n\\n## Return Type\\n\\n```ts\\ntype ReturnType = Transport<'feePayer'>\\n```\\n\\n## Parameters\\n\\n### defaultTransport\\n\\n- **Type:** `Transport`\\n\\nThe default transport to use for regular (non-sponsored) transactions.\\n\\n### relayTransport\\n\\n- **Type:** `Transport`\\n\\nThe relay transport to use for sponsored transactions. This should point to a fee payer service that will sign and submit the transaction with a fee payer signature.\\n\\n### Parameters (optional)\\n\\n- **Type:** `withFeePayer.Parameters`\\n\\nOptions for `withFeePayer` usage.\\n\\n#### `policy` (optional)\\n\\n- **Type:** `'sign-only' | 'sign-and-broadcast'`\\n- **Default:** `'sign-only'`\\n\\nControls how the fee payer handles sponsored transactions:\\n\\n- **`'sign-only'`**: Fee payer co-signs the transaction and returns it to the client transport, which then broadcasts it via the default transport.\\n\\n- **`'sign-and-broadcast'`**: Fee payer co-signs and broadcasts the transaction directly. The fee payer service handles both signing and submission to the blockchain.\",\"document\":[{\"href\":\"/tempo/transports/withFeePayer#withfeepayer\",\"html\":\"</header>\\n<p>Creates a transport that routes transactions to a fee payer service when a <code>feePayer</code> is requested on an action.</p>\\n<ul>\\n<li><a href=\\\"https://docs.tempo.xyz/guide/payments/sponsor-user-fees\\\">View Guide</a></li>\\n<li><a href=\\\"https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction\\\">View Specification</a></li>\\n</ul>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#withfeepayer\",\"isPage\":true,\"text\":\"\\nCreates a transport that routes transactions to a fee payer service when a feePayer is requested on an action.\\n\\nView Guide\\nView Specification\\n\\n\",\"title\":\"withFeePayer\",\"titles\":[]},{\"href\":\"/tempo/transports/withFeePayer#usage\",\"html\":\"\\n<div class=\\\"code-group\\\"><div data-title=\\\"example.ts\\\"><pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-highlighted\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\" data-title=\\\"example.ts\\\" data-lang=\\\"ts\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> client</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWalletClient</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  account: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">privateKeyToAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x...&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  chain: tempoTestnet,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  transport: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">withFeePayer</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">    http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(),                               </span><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ← Default Transport</span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">    http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;https://sponsor.example.com&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">),  </span><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ← Fee Payer Transport </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  ), </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Regular transaction</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> receipt1</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> client.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">sendTransactionSync</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  to: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Sponsored transaction </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> receipt2</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> client.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">sendTransactionSync</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({ </span></span>\\n\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  feePayer: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">true</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  to: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}) </span></span></code></pre></div><div data-title=\\\"viem.config.ts\\\"><pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\" data-title=\\\"viem.config.ts\\\" data-lang=\\\"ts\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { createClient, http, publicActions, walletActions } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem&#x27;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { privateKeyToAccount } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem/accounts&#x27;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { tempoTestnet } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem/chains&#x27;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">import</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> { tempoActions } </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">from</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\"> &#x27;viem/tempo&#x27;</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">export</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> client</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createClient</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  account: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">privateKeyToAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x...&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  chain: tempoTestnet,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  transport: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  .</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">extend</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(publicActions)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  .</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">extend</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(walletActions)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  .</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">extend</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">tempoActions</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">())</span></span></code></pre></div></div>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#usage\",\"isPage\":false,\"text\":\"\\n \\n \\n \\n \\n \\nconst client = createWalletClient({\\n  account: privateKeyToAccount(&#x27;0x...&#x27;),\\n  chain: tempoTestnet,\\n  transport: withFeePayer(\\n    http(),                               // ← Default Transport\\n    http(&#x27;https://sponsor.example.com&#x27;),  // ← Fee Payer Transport \\n  ), \\n})\\n \\n// Regular transaction\\nconst receipt1 = await client.sendTransactionSync({\\n  to: &#x27;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb&#x27;,\\n})\\n \\n// Sponsored transaction \\nconst receipt2 = await client.sendTransactionSync({ \\n\\n  feePayer: true, \\n  to: &#x27;0x742d35Cc6634C0532925a3b844Bc9e7595f0bEbb&#x27;, \\n}) import { createClient, http, publicActions, walletActions } from &#x27;viem&#x27;\\nimport { privateKeyToAccount } from &#x27;viem/accounts&#x27;\\nimport { tempoTestnet } from &#x27;viem/chains&#x27;\\nimport { tempoActions } from &#x27;viem/tempo&#x27;\\n \\nexport const client = createClient({\\n  account: privateKeyToAccount(&#x27;0x...&#x27;),\\n  chain: tempoTestnet,\\n  transport: http(),\\n})\\n  .extend(publicActions)\\n  .extend(walletActions)\\n  .extend(tempoActions())\\n\",\"title\":\"Usage\",\"titles\":[\"withFeePayer\"]},{\"href\":\"/tempo/transports/withFeePayer#example-fee-payer-service\",\"html\":\"\\n<p>Below is an end-to-end example of a client/server fee payer setup.</p>\\n<p>See <code>server.ts</code> for the server-side implementation. It uses <a href=\\\"https://docs.tempo.xyz/sdk/typescript/server/handler.feePayer\\\"><code>Handler.feePayer</code> provided by <code>tempo.ts/server</code></a> to handle fee payer requests.</p>\\n<div class=\\\"code-group\\\"><div data-title=\\\"client.ts\\\"><pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\" data-title=\\\"client.ts\\\" data-lang=\\\"ts\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> client</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWalletClient</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  account: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">privateKeyToAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x...&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  chain: tempoTestnet,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  transport: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">withFeePayer</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">    http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(), </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">    http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;http://localhost:3000&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">), </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  ), </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> hash</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> client.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">sendTransactionSync</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  feePayer: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">true</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  to: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x0000000000000000000000000000000000000000&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre></div><div data-title=\\\"server.ts\\\"><pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-highlighted\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\" data-title=\\\"server.ts\\\" data-lang=\\\"ts\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// @noErrors</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> client</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createClient</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  chain: tempoTestnet.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">extend</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({ </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">    // Note: the fee payer can specify their own fee token.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    feeToken: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x20c0000000000000000000000000000000000001&#x27;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  }),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  transport: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">http</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> handler</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\"> Handler.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">feePayer</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({ </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  account: </span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">privateKeyToAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;0x...&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">), </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  client, </span></span>\\n<span class=\\\"line highlighted\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}) </span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> server</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createServer</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(handler.listener)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">server.</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\">listen</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">(</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">3000</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">)</span></span></code></pre></div></div>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#example-fee-payer-service\",\"isPage\":false,\"text\":\"\\nBelow is an end-to-end example of a client/server fee payer setup.\\nSee server.ts for the server-side implementation. It uses Handler.feePayer provided by tempo.ts/server to handle fee payer requests.\\n \\n \\n \\n \\n \\nconst client = createWalletClient({\\n  account: privateKeyToAccount(&#x27;0x...&#x27;),\\n  chain: tempoTestnet,\\n  transport: withFeePayer(\\n    http(), \\n    http(&#x27;http://localhost:3000&#x27;), \\n  ), \\n})\\n \\nconst hash = await client.sendTransactionSync({\\n  feePayer: true,\\n  to: &#x27;0x0000000000000000000000000000000000000000&#x27;,\\n})// @noErrors\\n \\n \\n \\n \\n \\n \\nconst client = createClient({\\n  chain: tempoTestnet.extend({ \\n    // Note: the fee payer can specify their own fee token.\\n    feeToken: &#x27;0x20c0000000000000000000000000000000000001&#x27;\\n  }),\\n  transport: http(),\\n})\\n \\nconst handler = Handler.feePayer({ \\n  account: privateKeyToAccount(&#x27;0x...&#x27;), \\n  client, \\n}) \\n \\nconst server = createServer(handler.listener)\\nserver.listen(3000)\\n\",\"title\":\"Example Fee Payer Service\",\"titles\":[\"withFeePayer\",\"Usage\"]},{\"href\":\"/tempo/transports/withFeePayer#return-type\",\"html\":\"\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">type</span><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\"> ReturnType</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\"> Transport</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">&lt;</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;feePayer&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">&gt;</span></span></code></pre>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#return-type\",\"isPage\":false,\"text\":\"\\ntype ReturnType = Transport&lt;&#x27;feePayer&#x27;&gt;\\n\",\"title\":\"Return Type\",\"titles\":[\"withFeePayer\"]},{\"href\":\"/tempo/transports/withFeePayer#parameters\",\"html\":\"\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#parameters\",\"isPage\":false,\"text\":\"\\n\",\"title\":\"Parameters\",\"titles\":[\"withFeePayer\"]},{\"href\":\"/tempo/transports/withFeePayer#defaulttransport\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>Transport</code></li>\\n</ul>\\n<p>The default transport to use for regular (non-sponsored) transactions.</p>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#defaulttransport\",\"isPage\":false,\"text\":\"\\n\\nType: Transport\\n\\nThe default transport to use for regular (non-sponsored) transactions.\\n\",\"title\":\"defaultTransport\",\"titles\":[\"withFeePayer\",\"Parameters\"]},{\"href\":\"/tempo/transports/withFeePayer#relaytransport\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>Transport</code></li>\\n</ul>\\n<p>The relay transport to use for sponsored transactions. This should point to a fee payer service that will sign and submit the transaction with a fee payer signature.</p>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#relaytransport\",\"isPage\":false,\"text\":\"\\n\\nType: Transport\\n\\nThe relay transport to use for sponsored transactions. This should point to a fee payer service that will sign and submit the transaction with a fee payer signature.\\n\",\"title\":\"relayTransport\",\"titles\":[\"withFeePayer\",\"Parameters\"]},{\"href\":\"/tempo/transports/withFeePayer#parameters-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>withFeePayer.Parameters</code></li>\\n</ul>\\n<p>Options for <code>withFeePayer</code> usage.</p>\\n\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#parameters-optional\",\"isPage\":false,\"text\":\"\\n\\nType: withFeePayer.Parameters\\n\\nOptions for withFeePayer usage.\\n\",\"title\":\"Parameters (optional)\",\"titles\":[\"withFeePayer\",\"Parameters\"]},{\"href\":\"/tempo/transports/withFeePayer#policy-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>&#x27;sign-only&#x27; | &#x27;sign-and-broadcast&#x27;</code></li>\\n<li><strong>Default:</strong> <code>&#x27;sign-only&#x27;</code></li>\\n</ul>\\n<p>Controls how the fee payer handles sponsored transactions:</p>\\n<ul>\\n<li>\\n<p><strong><code>&#x27;sign-only&#x27;</code></strong>: Fee payer co-signs the transaction and returns it to the client transport, which then broadcasts it via the default transport.</p>\\n</li>\\n<li>\\n<p><strong><code>&#x27;sign-and-broadcast&#x27;</code></strong>: Fee payer co-signs and broadcasts the transaction directly. The fee payer service handles both signing and submission to the blockchain.</p>\\n</li>\\n</ul>\",\"id\":\"pages/tempo/transports/withFeePayer.mdx#policy-optional\",\"isPage\":false,\"text\":\"\\n\\nType: &#x27;sign-only&#x27; | &#x27;sign-and-broadcast&#x27;\\nDefault: &#x27;sign-only&#x27;\\n\\nControls how the fee payer handles sponsored transactions:\\n\\n\\n&#x27;sign-only&#x27;: Fee payer co-signs the transaction and returns it to the client transport, which then broadcasts it via the default transport.\\n\\n\\n&#x27;sign-and-broadcast&#x27;: Fee payer co-signs and broadcasts the transaction directly. The fee payer service handles both signing and submission to the blockchain.\\n\\n\",\"title\":\"policy (optional)\",\"titles\":[\"withFeePayer\",\"Parameters\",\"Parameters (optional)\"]}]}}"
