"{\"value\":{\"mdx\":\"# createWebAuthnCredential\\n\\nRegisters a **WebAuthn Credential** designed to be used to create a [WebAuthn Account](/account-abstraction/accounts/webauthn/toWebAuthnAccount).\\n\\n:::note\\nThis function uses [`ox/WebAuthnP256`](https://github.com/wevm/ox) under-the-hood.\\n:::\\n\\n## Overview\\n\\n`createWebAuthnCredential` initiates the WebAuthn (passkey) registration flow on the user's device, creating a cryptographic P256 credential that can later be used for authentication. \\n\\nThis function uses `navigator.credentials.create()` internally. [Read more](https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create).\\n\\n## Import\\n\\n```ts twoslash\\nimport { createWebAuthnCredential } from 'viem/account-abstraction'\\n```\\n\\n## Usage\\n\\nAt minimum, you need to provide a name to identify the credential:\\n\\n```ts twoslash\\nimport { \\n  createWebAuthnCredential, \\n  toWebAuthnAccount \\n} from 'viem/account-abstraction'\\n\\n// Register a credential (ie. passkey). // [!code focus] \\nconst credential = await createWebAuthnCredential({ // [!code focus]\\n  name: 'Example', // [!code focus]\\n}) // [!code focus]\\n\\n// Create a WebAuthn account from the credential.\\nconst account = toWebAuthnAccount({\\n  credential,\\n})\\n```\\n\\nThe function returns a `P256Credential` object that you can then pass to `toWebAuthnAccount()` to create an account, or store in your database for later use.\\n\\n## Returns\\n\\n`P256Credential`\\n\\nA P-256 WebAuthn Credential object with the following structure:\\n\\n```ts\\n{\\n  id: string                    // The credential ID\\n  publicKey: Hex                // Hex-encoded public key (includes 0x prefix)\\n  raw: PublicKeyCredential      // Raw credential from the Web Authentication API\\n}\\n```\\n\\nThis credential object is designed to be passed to `toWebAuthnAccount()` to create a `WebAuthnAccount`, which provides signing capabilities for transactions and messages.\\n\\n## Parameters\\n\\n### name \\n\\n- **Type:** `string`\\n\\nA user-friendly display name for the credential. This appears in your browser's credential manager and helps users identify which passkey they're using. Use something descriptive like \\\"My Laptop Fingerprint\\\" or \\\"Security Key\\\".\\n\\n```ts twoslash\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: 'Example',\\n})\\n```\\n\\n### challenge (optional)\\n\\n- **Type:** `Uint8Array`\\n\\nA random cryptographic value that proves the credential creation request. If you don't provide one, the function generates a random one.\\n\\n```ts twoslash\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  challenge: new Uint8Array([1, 2, 3]),\\n  name: 'Example',\\n})\\n```\\n\\n### rp (optional)\\n\\n- **Type:** `{ id: string; name: string }`\\n\\nAn object describing the relying party. [Read more](https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredentialCreationOptions#rp).\\n\\n```ts twoslash\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: 'Example',\\n  rp: {\\n    id: 'example.com',\\n    name: 'Example',\\n  },\\n})\\n```\\n\\n### timeout (optional)\\n\\n- **Type:** `number`\\n\\nHow long (in milliseconds) to wait for the user to complete the registration.\\n\\n```ts twoslash\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: 'Example',\\n  timeout: 1000,\\n})\\n```\\n\\n### excludeCredentialIds (optional)\\n\\n- **Type:** `string[]`\\n\\nAn array of credential IDs you want to prevent from being re-registered. If a user already has a credential with one of these IDs on their device, the registration will fail. Use this to prevent duplicate credentials and ensure each device can only register once.\\n\\n```ts twoslash\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  excludeCredentialIds: ['abc', 'def'],\\n  name: 'Example',\\n})\\n```\\n\\n### createFn (optional, advanced)\\n\\n- **Type:** `(options: CredentialCreationOptions) => Promise<Credential | null>`\\n- **Default:** `window.navigator.credentials.create`\\n\\nAllows you to override the default credential creation function. By default, it uses `window.navigator.credentials.create`, which is the standard WebAuthn API. Override this only if you're in an environment that doesn't support WebAuthn natively (React Native, test environments, etc.). Pass a custom function that accepts the same options and returns a credential or null.\\n\\n```ts twoslash\\n// @noErrors\\nimport { createWebAuthnCredential, toWebAuthnAccount } from 'viem/account-abstraction'\\n// ---cut---\\nimport * as passkey from 'react-native-passkeys'\\n\\nconst credential = await createWebAuthnCredential({\\n  name: 'Example',\\n  createFn: passkey.create,\\n})\\n\\nconst account = toWebAuthnAccount({\\n  credential,\\n})\\n```\\n\\n## Error Cases\\n\\nThe registration can fail or be cancelled for several reasons:\\n\\n- The user cancels the credential creation dialog\\n- The device doesn't support WebAuthn\\n- The credential already exists (if using `excludeCredentialIds`)\\n- The timeout expires while waiting for user interaction\\n- The authenticator is locked or unavailable\\n\\nWrap the function call in a try-catch block to handle these gracefully.\\n\",\"document\":[{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#createwebauthncredential\",\"html\":\"</header>\\n<p>Registers a <strong>WebAuthn Credential</strong> designed to be used to create a <a href=\\\"/account-abstraction/accounts/webauthn/toWebAuthnAccount\\\">WebAuthn Account</a>.</p>\\n<aside data-callout=\\\"note\\\"><p>This function uses <a href=\\\"https://github.com/wevm/ox\\\"><code>ox/WebAuthnP256</code></a> under-the-hood.</p></aside>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#createwebauthncredential\",\"isPage\":true,\"text\":\"\\nRegisters a WebAuthn Credential designed to be used to create a WebAuthn Account.\\nThis function uses ox/WebAuthnP256 under-the-hood.\\n\",\"title\":\"createWebAuthnCredential\",\"titles\":[]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#overview\",\"html\":\"\\n<p><code>createWebAuthnCredential</code> initiates the WebAuthn (passkey) registration flow on the user&#x27;s device, creating a cryptographic P256 credential that can later be used for authentication.</p>\\n<p>This function uses <code>navigator.credentials.create()</code> internally. <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/API/CredentialsContainer/create\\\">Read more</a>.</p>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#overview\",\"isPage\":false,\"text\":\"\\ncreateWebAuthnCredential initiates the WebAuthn (passkey) registration flow on the user&#x27;s device, creating a cryptographic P256 credential that can later be used for authentication.\\nThis function uses navigator.credentials.create() internally. Read more.\\n\",\"title\":\"Overview\",\"titles\":[\"createWebAuthnCredential\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#import\",\"html\":\"\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#import\",\"isPage\":false,\"text\":\"\\n \\n\",\"title\":\"Import\",\"titles\":[\"createWebAuthnCredential\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#usage\",\"html\":\"\\n<p>At minimum, you need to provide a name to identify the credential:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed has-focused\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  createWebAuthnCredential, </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  toWebAuthnAccount </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">} from </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;viem/account-abstraction&#x27;</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Register a credential (ie. passkey). </span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({ </span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span></span>\\n<span class=\\\"line focused\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}) </span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Create a WebAuthn account from the credential.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> account</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> toWebAuthnAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  credential,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n<p>The function returns a <code>P256Credential</code> object that you can then pass to <code>toWebAuthnAccount()</code> to create an account, or store in your database for later use.</p>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#usage\",\"isPage\":false,\"text\":\"\\nAt minimum, you need to provide a name to identify the credential:\\n \\n  createWebAuthnCredential, \\n  toWebAuthnAccount \\n} from &#x27;viem/account-abstraction&#x27;\\n \\n// Register a credential (ie. passkey). \\nconst credential = await createWebAuthnCredential({ \\n  name: &#x27;Example&#x27;, \\n}) \\n \\n// Create a WebAuthn account from the credential.\\nconst account = toWebAuthnAccount({\\n  credential,\\n})\\nThe function returns a P256Credential object that you can then pass to toWebAuthnAccount() to create an account, or store in your database for later use.\\n\",\"title\":\"Usage\",\"titles\":[\"createWebAuthnCredential\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#returns\",\"html\":\"\\n<p><code>P256Credential</code></p>\\n<p>A P-256 WebAuthn Credential object with the following structure:</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\">  id</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: string                    </span><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// The credential ID</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\">  publicKey</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: Hex                </span><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Hex-encoded public key (includes 0x prefix)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6F42C1;--shiki-dark:#F69D50\\\">  raw</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">: PublicKeyCredential      </span><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// Raw credential from the Web Authentication API</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">}</span></span></code></pre>\\n<p>This credential object is designed to be passed to <code>toWebAuthnAccount()</code> to create a <code>WebAuthnAccount</code>, which provides signing capabilities for transactions and messages.</p>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#returns\",\"isPage\":false,\"text\":\"\\nP256Credential\\nA P-256 WebAuthn Credential object with the following structure:\\n{\\n  id: string                    // The credential ID\\n  publicKey: Hex                // Hex-encoded public key (includes 0x prefix)\\n  raw: PublicKeyCredential      // Raw credential from the Web Authentication API\\n}\\nThis credential object is designed to be passed to toWebAuthnAccount() to create a WebAuthnAccount, which provides signing capabilities for transactions and messages.\\n\",\"title\":\"Returns\",\"titles\":[\"createWebAuthnCredential\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#parameters\",\"html\":\"\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#parameters\",\"isPage\":false,\"text\":\"\\n\",\"title\":\"Parameters\",\"titles\":[\"createWebAuthnCredential\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#name\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>string</code></li>\\n</ul>\\n<p>A user-friendly display name for the credential. This appears in your browser&#x27;s credential manager and helps users identify which passkey they&#x27;re using. Use something descriptive like &quot;My Laptop Fingerprint&quot; or &quot;Security Key&quot;.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#name\",\"isPage\":false,\"text\":\"\\n\\nType: string\\n\\nA user-friendly display name for the credential. This appears in your browser&#x27;s credential manager and helps users identify which passkey they&#x27;re using. Use something descriptive like &quot;My Laptop Fingerprint&quot; or &quot;Security Key&quot;.\\n \\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: &#x27;Example&#x27;,\\n})\\n\",\"title\":\"name\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#challenge-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>Uint8Array</code></li>\\n</ul>\\n<p>A random cryptographic value that proves the credential creation request. If you don&#x27;t provide one, the function generates a random one.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  challenge: </span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">new</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> Uint8Array</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">([</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">1</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">2</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">3</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">]),</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#challenge-optional\",\"isPage\":false,\"text\":\"\\n\\nType: Uint8Array\\n\\nA random cryptographic value that proves the credential creation request. If you don&#x27;t provide one, the function generates a random one.\\n \\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  challenge: new Uint8Array([1, 2, 3]),\\n  name: &#x27;Example&#x27;,\\n})\\n\",\"title\":\"challenge (optional)\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#rp-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>{ id: string; name: string }</code></li>\\n</ul>\\n<p>An object describing the relying party. <a href=\\\"https://developer.mozilla.org/en-US/docs/Web/API/PublicKeyCredentialCreationOptions#rp\\\">Read more</a>.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  rp: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    id: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;example.com&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">    name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  },</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#rp-optional\",\"isPage\":false,\"text\":\"\\n\\nType: { id: string; name: string }\\n\\nAn object describing the relying party. Read more.\\n \\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: &#x27;Example&#x27;,\\n  rp: {\\n    id: &#x27;example.com&#x27;,\\n    name: &#x27;Example&#x27;,\\n  },\\n})\\n\",\"title\":\"rp (optional)\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#timeout-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>number</code></li>\\n</ul>\\n<p>How long (in milliseconds) to wait for the user to complete the registration.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  timeout: </span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\">1000</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#timeout-optional\",\"isPage\":false,\"text\":\"\\n\\nType: number\\n\\nHow long (in milliseconds) to wait for the user to complete the registration.\\n \\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  name: &#x27;Example&#x27;,\\n  timeout: 1000,\\n})\\n\",\"title\":\"timeout (optional)\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#excludecredentialids-optional\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>string[]</code></li>\\n</ul>\\n<p>An array of credential IDs you want to prevent from being re-registered. If a user already has a credential with one of these IDs on their device, the registration will fail. Use this to prevent duplicate credentials and ensure each device can only register once.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  excludeCredentialIds: [</span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;abc&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">, </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;def&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">],</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#excludecredentialids-optional\",\"isPage\":false,\"text\":\"\\n\\nType: string[]\\n\\nAn array of credential IDs you want to prevent from being re-registered. If a user already has a credential with one of these IDs on their device, the registration will fail. Use this to prevent duplicate credentials and ensure each device can only register once.\\n \\n// ---cut---\\nconst credential = await createWebAuthnCredential({\\n  excludeCredentialIds: [&#x27;abc&#x27;, &#x27;def&#x27;],\\n  name: &#x27;Example&#x27;,\\n})\\n\",\"title\":\"excludeCredentialIds (optional)\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#createfn-optional-advanced\",\"html\":\"\\n<ul>\\n<li><strong>Type:</strong> <code>(options: CredentialCreationOptions) =&gt; Promise</code></li>\\n<li><strong>Default:</strong> <code>window.navigator.credentials.create</code></li>\\n</ul>\\n<p>Allows you to override the default credential creation function. By default, it uses <code>window.navigator.credentials.create</code>, which is the standard WebAuthn API. Override this only if you&#x27;re in an environment that doesn&#x27;t support WebAuthn natively (React Native, test environments, etc.). Pass a custom function that accepts the same options and returns a credential or null.</p>\\n<pre class=\\\"shiki shiki-themes github-light github-dark-dimmed\\\" style=\\\"background-color:#fff;--shiki-dark-bg:#22272e;color:#24292e;--shiki-dark:#adbac7\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// @noErrors</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D;--shiki-dark:#768390\\\">// ---cut---</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> credential</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> await</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> createWebAuthnCredential</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  name: </span><span style=\\\"color:#032F62;--shiki-dark:#96D0FF\\\">&#x27;Example&#x27;</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  createFn: passkey.create,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span>\\n<span class=\\\"line\\\" data-empty-line=\\\"true\\\"> </span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\">const</span><span style=\\\"color:#005CC5;--shiki-dark:#6CB6FF\\\"> account</span><span style=\\\"color:#D73A49;--shiki-dark:#F47067\\\"> =</span><span style=\\\"color:#6F42C1;--shiki-dark:#DCBDFB\\\"> toWebAuthnAccount</span><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">({</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">  credential,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E;--shiki-dark:#ADBAC7\\\">})</span></span></code></pre>\\n\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#createfn-optional-advanced\",\"isPage\":false,\"text\":\"\\n\\nType: (options: CredentialCreationOptions) =&gt; Promise\\nDefault: window.navigator.credentials.create\\n\\nAllows you to override the default credential creation function. By default, it uses window.navigator.credentials.create, which is the standard WebAuthn API. Override this only if you&#x27;re in an environment that doesn&#x27;t support WebAuthn natively (React Native, test environments, etc.). Pass a custom function that accepts the same options and returns a credential or null.\\n// @noErrors\\n \\n// ---cut---\\n \\n \\nconst credential = await createWebAuthnCredential({\\n  name: &#x27;Example&#x27;,\\n  createFn: passkey.create,\\n})\\n \\nconst account = toWebAuthnAccount({\\n  credential,\\n})\\n\",\"title\":\"createFn (optional, advanced)\",\"titles\":[\"createWebAuthnCredential\",\"Parameters\"]},{\"href\":\"/account-abstraction/accounts/webauthn/createWebAuthnCredential#error-cases\",\"html\":\"\\n<p>The registration can fail or be cancelled for several reasons:</p>\\n<ul>\\n<li>The user cancels the credential creation dialog</li>\\n<li>The device doesn&#x27;t support WebAuthn</li>\\n<li>The credential already exists (if using <code>excludeCredentialIds</code>)</li>\\n<li>The timeout expires while waiting for user interaction</li>\\n<li>The authenticator is locked or unavailable</li>\\n</ul>\\n<p>Wrap the function call in a try-catch block to handle these gracefully.</p>\",\"id\":\"pages/account-abstraction/accounts/webauthn/createWebAuthnCredential.md#error-cases\",\"isPage\":false,\"text\":\"\\nThe registration can fail or be cancelled for several reasons:\\n\\nThe user cancels the credential creation dialog\\nThe device doesn&#x27;t support WebAuthn\\nThe credential already exists (if using excludeCredentialIds)\\nThe timeout expires while waiting for user interaction\\nThe authenticator is locked or unavailable\\n\\nWrap the function call in a try-catch block to handle these gracefully.\",\"title\":\"Error Cases\",\"titles\":[\"createWebAuthnCredential\"]}]}}"
